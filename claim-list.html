<link rel="import" href="imports.html">
<link rel="stylesheet" href="styles.css">

<polymer-element name="claim-list">
  <template>
    <style>
      :host {
        display: block;
      }
      .question {
        padding: 20px;
        background: #fff;
      }
      .question h3 {
        margin: 0;
      }
      .question h3 a {
        color: #333;
        text-decoration: none;
      }
      .question h3 a:hover {
        color: rgb(0, 72, 144);
      }
      .question .urgency_img {
        font-size: 40px;
        width: auto;
        height: auto;
        padding-right: 10px;
      }
      .question .details p {
        color: #616161;
        margin: 8px 0;
      }
      .question .metadata {
        font-size: 12px;
        color: #BDBDBD;
      }
      .question .metadata a {
        color: #616161;
        border-bottom: 1px solid #eee;
        text-decoration: none;
      }
    </style>
    <firebase-element id="base" location="https://{{globals.firebase}}.firebaseio.com/tickets" data="{{tickets}}" keys="{{keys}}"></firebase-element>
    <pvc-globals values="{{globals}}"></pvc-globals>

    <!--  TEMPLATE TO REPEAT THE KEYS OF TICKETS FROM FIREBASE-->
    <template repeat="{{id in keys}}" >
      <paper-shadow z="1">
        <div class="question">
          <div layout horizontal center>
            <div class="urgency_img">
              <span>{{tickets[id]['urgency']}}</span>
            </div>
            <div class="details" flex>
              <h3><a href="/#/ticket/{{id}}">Room# {{tickets[id]['room']}}</a></h3>
              <p>{{tickets[id]['problem']}}</p>
              <span class="metadata">by {{tickets[id]['name']}}</a> &bull; {{tickets[id]['timestamp']}} </span>
            </div>
            <div class="view">
              <paper-icon-button on-click="{{viewQuestion}}" question-id="{{id}}" icon="arrow-forward" title="View Question"></paper-icon-button>
            </div>
          </div>
        </div>
      </paper-shadow>
    </template>
  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        // define element prototype here
      });

    })();
  </script>
</polymer-element>
