<link rel="import" href="../../imports.html">
<link rel="import" href="../../elements/elements.html">

<polymer-element name="my-claims">
  <template>
    <sidebar-layout selected="home" headerTitle="Home">
      <link rel="stylesheet" href="my-claims.css">
      <firebase-login id="baseLogin" user="{{user}}" statusKnown="{{statusKnown}}" location="https://{{globals.firebase}}.firebaseio.com" provider="google" on-login="{{onLogin}}" on-error="{{onLoginError}}"></firebase-login>
      <firebase-element id="base" location="https://{{globals.firebase}}.firebaseio.com/tickets" data="{{tickets}}" keys="{{keys}}"></firebase-element>
      <pvc-globals values="{{globals}}"></pvc-globals>

      <welcome-message></welcome-message>

  <!--    TICKET FORM TO SUBMIT TICKETS-->
      <div id="ticket_form" center-center vertical layout hidden?="{{!globals.currentUser}}">
        <core-card id="core_card" center horizontal layout center-justified one flex active>Submit your ticket here, {{user.google.displayName}}!</core-card>
        <paper-shadow class="claims_card" z="2" layout one flex vertical>
          <paper-input-decorator label="What room #?" floatinglabel error="is not an actual room number" id="room_check">
            <input id="room_input" is="core-input" pattern="^[A-Ca-c'\d-]*$" on-input="{{inputAction}}">
          </paper-input-decorator>
          <paper-input-decorator label="Describe your problem" floatinglabel>
            <paper-autogrow-textarea id="problem_input_wrapper">
              <textarea id="problem_input"></textarea>
            </paper-autogrow-textarea>
          </paper-input-decorator>
          <div id="urgency"><span>How urgent is it?</span></div>
          <paper-slider pin value="1" max="10" id="paper_slider" center horizontal layout start-justified>How urgent is it?</paper-slider>
          <paper-button raised id="paper_button" on-tap="{{submitQuestion}}"  horizontal layout one flex center center-justified>SUBMIT</paper-button>
        </paper-shadow>
      </div>
      <div>
        <paper-toast text="Ticket received!" id="ticket_toast" class="core-transition-bottom core-transition"></paper-toast>
      </div>
    </sidebar-layout>
  </template>
  <script src="../../scripts/app.js"></script>
</polymer-element>
